!function(){console.log(window.opener);var checkLoadInterval=1e3,onloadHook="onPopUnderLoaded",popNumField="popnum",handler={num:-1,hours:24,tabUnder:!1,onPopCallback:null,winWidth:window.screen.availWidth-122,winHeight:window.screen.availHeight-122,isIE:-1!==navigator.userAgent.indexOf("MSIE"),isChrome:-1!==navigator.userAgent.indexOf("Chrome/")&&-1!==navigator.userAgent.indexOf("AppleWebKit"),hasPop:!1,frequency:function(num,hours){return void 0===hours&&(hours=24),this.num=num,this.hours=hours,this},useTabUnder:function(allow){return this.tabUnder=allow,this},pop:function(url){return setTimeout(function(){var popnum=this.getPopNum();(this.num<0||popnum<this.num)&&this.startPop(url)}.bind(this),1),this},startPop:function(url){this.isIE?this.tryPopIENow(url):this.isChrome||this.tryPop(url),this.onClick(function(){this.popOnClick(url)}.bind(this))},onPop:function(callback){return this.onPopCallback=callback,this},tryPopIENow:function(url){var hackElementId="pop_under_hack",popie=document.createElement("object");popie.id=hackElementId,popie.setAttribute("classid","clsid:2D360201-FFF5-11d1-8D03-00A0C959BC0A"),popie.style.cssText="width:1px;height:1px;top:0;left:0;position:absolute;",document.body.appendChild(popie),setTimeout(function(){if(!this.hasPop){var clkpopwin=document.getElementById(hackElementId).DOM.Script.open(url,"_blank","top=0,left=0, width="+this.winWidth+",height="+this.winHeight);clkpopwin&&(window.self.focus(),clkpopwin.blur(),this.popDone())}}.bind(this),1500)},tryPop:function(url){var popwinCLK,date=new Date,winName="Ads"+date.getTime();popwinCLK=this.openWin(url,winName),popwinCLK&&(popwinCLK.blur(),this.isChrome&&window.blur(),window.focus(),this.popDone())},popOnClick:function(url){this.hasPop||(this.tabUnder?this.doTabUnder(url):this.tryPop(url))},doTabUnder:function(url){this.popDone();var win=window.open(window.location.href,"_blank");setTimeout(function(){win.document.isTabUnder=!0,window.location=url},1)},openWin:function(url,name){var params="toolbar=0,scrollbars=1,statusbar=1,resizable=1,menubar=0,location=1,top=0,left=0,width="+this.winWidth+",height="+this.winHeight;return window.SymRealWinOpen?window.SymRealWinOpen(url,name,params):window.NS_ActualOpen?window.NS_ActualOpen(url,name,params):window.open(url,name,params)},popDone:function(){this.hasPop=!0,this.updatePopNum(),this.onPopCallback&&this.onPopCallback.call(this)},getPopNum:function(){var popnum=this.getData(popNumField);return popnum?"string"==typeof popnum&&(popnum=parseInt(popnum)):popnum=0,popnum},updatePopNum:function(){if(this.num>0){var popnum=this.getPopNum()+1,expires=null;this.hours>0&&(expires=new Date,expires.setTime(expires.getTime()+3600*this.hours*1e3)),this.setData(popNumField,popnum,expires)}},onClick:function(callback){document.captureEvents&&document.captureEvents(window.Event.CLICK),document.addEventListener?document.addEventListener("click",callback,!1):document.attachEvent?document.attachEvent("click",callback):document.onclick=callback},setData:function(name,value,expires){window.Storage?this.setStorage(name,value,expires):this.setCookie(name,value,expires)},getData:function(name){return window.Storage?this.getStorage(name):this.getCookie(name)},setCookie:function(name,value,expires){document.cookie=name+"="+encodeURI(value)+(expires?"; expires="+expires.toGMTString():"")},getCookie:function(name){for(var j,arg=name+"=",alen=arg.length,clen=document.cookie.length,i=0;clen>i;){if(j=i+alen,document.cookie.substring(i,j)===arg)return this.getCookieVal(j);if(i=document.cookie.indexOf(" ",i)+1,0===i)break}return null},getCookieVal:function(offset){var str=document.cookie.indexOf(";",offset);return-1===str&&(str=document.cookie.length),decodeURI(document.cookie.substring(offset,str))},setStorage:function(name,value,expires){expires?window.localStorage.setItem(name,JSON.stringify({value:value,expire:expires.getTime()})):window.sessionStorage.setItem(name,JSON.stringify({value:value,expire:0}))},getStorage:function(name){var obj=window.sessionStorage.getItem(name);return obj||(obj=window.localStorage.getItem(name)),obj?(obj=JSON.parse(obj),obj.expire&&obj.expire<(new Date).getTime()?null:obj.value):null}},allLoaded=setInterval(function(){/loaded|complete/.test(document.readyState)&&(clearInterval(allLoaded),window[onloadHook]?window[onloadHook].call(handler):console.log("pop under onload hook not defined"))},checkLoadInterval)}();